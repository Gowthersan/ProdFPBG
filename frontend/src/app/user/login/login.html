<!-- Fond plein écran -->
<div class="min-h-screen grid place-items-center bg-[#1f3b52] px-4">
  <div class="w-full max-w-3xl rounded-3xl bg-[#0F2434] text-white p-8 md:p-10 shadow-2xl border border-white/10">

    <div class="flex justify-center"><img src="assets/logo.png" alt="FPBG" class="h-12 w-auto" /></div>
    <h1 class="mt-4 text-center text-3xl font-bold">Bienvenue</h1>

    <!-- Onglets -->
    <div class="mt-6 mx-auto grid grid-cols-2 gap-6 max-w-md">
      <button class="rounded-md bg-green-600 px-6 py-2 text-center font-semibold">Connexion</button>
      <a routerLink="/register" class="rounded-md bg-[#1F3B52] text-slate-200 px-6 py-2 text-center font-semibold hover:bg-[#21435e] transition">
        Inscription
      </a>
    </div>

    <!-- pas de step ici -->
    <h2 class="mt-7 text-center text-lg font-semibold">Identifiants</h2>

    <div *ngIf="error()" class="mt-4 rounded-md border border-red-500/30 bg-red-500/10 text-red-200 px-4 py-3">{{ error() }}</div>

    <form class="mt-6 grid gap-4 max-w-2xl mx-auto" [formGroup]="form" (ngSubmit)="submit()">
      <div>
        <label class="block text-sm text-slate-300 mb-1">Adresse email <span class="text-red-400">*</span></label>
        <input type="email" formControlName="email"
               [class.border-red-500]="form.controls.email.invalid && form.controls.email.touched"
               class="w-full rounded-md bg-[#1F3B52] border border-white/10 px-4 py-2.5"
               placeholder="votre@email.com" />
        <div *ngIf="form.controls.email.invalid && form.controls.email.touched" class="mt-1 text-sm text-red-400">
          <span *ngIf="form.controls.email.errors?.['required']">L'email est requis</span>
          <span *ngIf="form.controls.email.errors?.['email']">L'email n'est pas valide</span>
        </div>
      </div>

      <!-- Mot de passe + lien oublié -->
      <div>
        <label class="block text-sm text-slate-300 mb-1">Mot de passe <span class="text-red-400">*</span></label>
        <input type="password" formControlName="password"
               [class.border-red-500]="form.controls.password.invalid && form.controls.password.touched"
               class="w-full rounded-md bg-[#1F3B52] border border-white/10 px-4 py-2.5"
               placeholder="********" />
        <div *ngIf="form.controls.password.invalid && form.controls.password.touched" class="mt-1 text-sm text-red-400">
          <span *ngIf="form.controls.password.errors?.['required']">Le mot de passe est requis</span>
          <span *ngIf="form.controls.password.errors?.['minlength']">Le mot de passe doit contenir au moins 6 caractères</span>
        </div>
      </div>

      <div class="mt-3 flex justify-center">
        <button type="submit" [disabled]="loading() || form.invalid"
                class="rounded-md bg-green-600 hover:bg-green-500 px-8 py-2.5 font-semibold disabled:opacity-60 disabled:cursor-not-allowed transition">
          <span *ngIf="!loading()">Se connecter</span>
          <span *ngIf="loading()">Connexion...</span>
        </button>
      </div>
    </form>
  </div>
</div>
